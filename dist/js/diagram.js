import a from'./eventEmitter.js';export let TOOL_MODE_SELECT='select',WIRE_COLOR_RED='red',WIRE_COLOR_GREEN='green',WIRE_COLOR_BLUE='blue';export let TOOL_MODE_WIRE='wire';export let WIRE_COLOR_BLACK='black';export let WIRE_COLOR_YELLOW='yellow';export let WIRE_COLOR_DEFAULT=WIRE_COLOR_BLACK;export class DiagramState extends a{constructor(){super();if(DiagramState.instance)return DiagramState.instance;this._lastIssuedId=0;this._componenetMap={};this.showConnectors=!1;this.toolMode=TOOL_MODE_SELECT;this.wireToolColor=WIRE_COLOR_DEFAULT;DiagramState.instance=this}getNewIdentity(){return ++this._lastIssuedId}registerComponent(A){this._addToComponentMap(A.id,A)}notifyNodeChanged(_){_.name()==='Wire'&&this._emit('wireChanged',_)}getComponent(b){return this._componenetMap[parseInt(b,10)]}_addToComponentMap(B,c){this._componenetMap[B]=c}findComponents(C){return Object.values(this._componenetMap).filter(C)}removeComponentById(_a){var _b=this;let _c=this.getComponent(_a);_c.pinIds?.forEach(d=>_ret=_b.removeComponentById(d));delete this._componenetMap[_c.id]}}
